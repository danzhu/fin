struct List
    content [Int]&
    size Int
    capacity Int

def new() List
    let list List
    list.size = 0
    list.capacity = 0
    list

def append(list List&, val Int)
    if list.size == list.capacity
        if list.capacity != 0
            list.capacity *= 2
            realloc(list.content, list.capacity)
        else
            list.capacity = 5
            list.content := alloc(list.capacity)

    list.content[list.size] = val
    list.size += 1

def pop(list List&) Int
    list.size -= 1
    list.content[list.size]

def at(list List&, idx Int) Int&
    list.content[idx]

def drop(list List&)
    dealloc(list.content)

def test()
    let list List = new()

    let i = 0
    while i < 25
        list.append(i)
        i += 1

    list.pop().print()
    list.at(2).print()
    list.size.print()
    list.capacity.print()

    list.drop()

test()
